<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_hr_employee_kanban" model="ir.ui.view">
            <field name="name">hr.employee.kanban</field>
            <field name="model">hr.employee</field>
            <field name="arch" type="xml">
                <kanban
                    class="o_kanban_mobile"
                    sample="1" 
                    default_group_by="attendance_type_id"
                    default_order="name"
                    quick_create="false"
                    group_create="false"
                    group_edit="false"
                    group_delete="false"
                    create="true"
                    archivable="false">
                    <field name="id" />
                    <field name="hr_presence_state" />
                    <field name="user_id" />
                    <field name="user_partner_id" />
                    <field name="hr_icon_display" />
                    <field name="show_hr_icon_display" />
                    <field name="image_128" />
                    <progressbar field="attendance_type_id" colors='{}'/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_hr_kanban_record">
                                <field name="image_128" class="o_kanban_image_fill_left d-block" widget="background_image" />

                                <div class="oe_kanban_details">
                                    <div class="o_kanban_record_top">
                                        <div class="o_kanban_record_headings">
                                            <strong class="o_kanban_record_title">
                                                <field name="name" placeholder="Employee's Name" />
                                            </strong>
                                            <span t-if="record.job_title.raw_value" class="o_kanban_record_subtitle">
                                                <field name="job_title" />
                                            </span>
                                        </div>
                                    </div>
                                    <field name="category_ids" widget="many2many_tags" options="{'color_field': 'color'}" groups="hr.group_hr_user" />
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- Add an action to open the Kanban view -->
        <record id="action_hr_employee_kanban" model="ir.actions.act_window">
            <field name="name">Employees Kanban</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="view_hr_employee_kanban"/>
            <!-- You can add more attributes as needed -->
        </record>

        <!-- Add a menu item to access the Kanban view -->
        <menuitem
            id="menu_hr_employee_kanban"
            name="Employees Kanban"
            parent="hr_attendance.menu_hr_attendance_root"
            action="action_hr_employee_kanban"
        />        

    </data>
</odoo>
